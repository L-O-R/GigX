// Header.jsx
import { useState } from "react";

const navItems = [
  { href: "#about", label: "About Us" },
  { href: "#work", label: "Work" },
  { href: "#whatwedo", label: "What we do" },
];

export default function Header() {
  const [open, setOpen] = useState(false);

  const basePill =
    "inline-flex items-center justify-center rounded-xl bg-white px-6 py-3 font-text text-md font-semibold text-gray-900 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:scale-105 hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80";

  const closeOnNavigate = () => setOpen(false);

  return (
    <header className="fixed inset-x-0 top-0 z-50 text-white backdrop-blur-sm py-4">
      <nav className="mx-auto flex h-16 items-center justify-between sm:px-8 lg:px-14">
        {/* Brand */}
        <a
          href="#home"
          className="flex items-center gap-2 select-none">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="157"
            height="61"
            viewBox="0 0 157 61"
            className="w-36 h-36 object-contain"
            fill="none">
            <g clip-path="url(#clip0_2733_1708)">
              <path
                d="M3.15111 52.1694C1.05037 50.2399 0 47.4013 0 43.6482V11.3354C0 7.58226 1.05037 4.75723 3.15111 2.85488C5.2491 0.952531 8.34796 0 12.4422 0C16.5364 0 19.5473 0.919966 21.6343 2.75447C23.7213 4.59169 24.8184 7.33259 24.9229 10.9799V26.291H13.5586V10.0355C13.5586 9.27565 13.1874 8.89301 12.4422 8.89301C11.697 8.89301 11.2846 9.27293 11.2846 10.0355V44.9454C11.2846 45.7079 11.6696 46.0879 12.4422 46.0879C13.2149 46.0879 13.5586 45.7079 13.5586 44.9454V28.7306H24.9229V44.0417C24.7909 47.689 23.6801 50.438 21.5931 52.2861C19.5061 54.1369 16.454 55.0596 12.4422 55.0596C8.43045 55.0596 5.2491 54.0962 3.15111 52.1667V52.1694Z"
                fill="#C0DD2C"
              />
              <path
                d="M42.7985 37.1216C43.3237 35.2383 43.8516 33.3386 44.3796 31.42C44.9048 29.5041 45.5317 27.5068 46.2548 25.4253C46.6508 24.3859 47.044 23.7862 47.4399 23.6234C47.8359 23.4632 48.2291 23.3466 48.625 23.2814C50.0081 23.2163 51.0942 23.3791 51.8834 23.7699C52.6725 24.1607 53.0685 24.7441 53.0685 25.523C53.0685 25.9138 53.019 26.5949 52.92 27.5692C52.821 28.5434 52.6066 29.5828 52.2793 30.6873C51.5534 34.1311 51.0447 37.2003 50.7478 39.8978C50.4508 42.5953 50.3353 44.8857 50.4013 46.7691C50.5333 48.2643 50.6818 49.4665 50.8468 50.3756C51.009 51.2875 51.2922 51.7732 51.6854 51.8384C52.0154 51.9035 52.3261 51.6294 52.6231 51.0107C52.92 50.3946 53.3297 49.5344 53.8576 48.4272C54.0556 48.0364 54.3663 47.2901 54.7953 46.1856C55.2215 45.0811 55.6999 43.8328 56.2279 42.4325C56.753 41.0349 57.314 39.5911 57.9079 38.0959C58.4991 36.6033 59.027 35.222 59.489 33.9547C59.9481 32.6873 60.3441 31.648 60.6741 30.8365C61.004 30.0251 61.1992 29.6181 61.268 29.6181C61.334 29.6832 61.4302 29.732 61.5649 29.7646C61.6969 29.7972 61.8262 29.8786 61.9609 30.0088C61.6309 30.7253 61.2707 31.8108 60.8748 33.2735C60.4788 34.7362 60.0196 36.3591 59.4917 38.1474C58.9638 39.9358 58.3891 41.7703 57.7649 43.6537C57.138 45.5397 56.4808 47.2602 55.7907 48.8179C55.1005 50.3784 54.3581 51.6783 53.5689 52.7149C52.7798 53.7543 51.9879 54.3052 51.1987 54.3703C50.0796 54.3703 49.043 54.2102 48.0889 53.8818C47.1347 53.5562 46.2933 52.9239 45.5702 51.9822C44.8443 51.0405 44.2861 49.7243 43.8901 48.0364C43.4942 46.3484 43.299 44.1394 43.299 41.4094C43.167 41.9928 42.9525 42.7744 42.6583 43.7486C42.3613 44.7229 42.0479 45.7134 41.7207 46.7202C41.3907 47.727 41.0112 48.685 40.585 49.5941C40.1561 50.5059 39.7464 51.2495 39.3505 51.8357C38.7565 52.6796 38.0499 53.3309 37.2277 53.7841C36.4028 54.24 35.5009 54.4002 34.5111 54.2726C32.4021 54.0772 30.7578 53.2332 29.5727 51.738C28.3876 50.2454 27.6617 48.4244 27.4004 46.2806C27.2025 44.7202 27.2025 42.9671 27.4004 41.0186C27.5984 39.0701 27.8459 37.0728 28.1401 35.0239C28.4371 32.9777 28.6983 30.9478 28.9292 28.9342C29.1602 26.9206 29.24 25.0698 29.1767 23.3791C29.1767 22.7305 29.5369 22.356 30.2628 22.2583C30.986 22.1606 31.8081 22.2909 32.732 22.6491C33.6532 23.0073 34.5578 23.4931 35.4487 24.1118C36.3368 24.7306 36.8813 25.428 37.0792 26.2069C37.4752 27.5068 37.6209 29.2626 37.5247 31.4688C37.4257 33.6779 37.2442 35.952 36.9802 38.2913C36.7163 40.6305 36.4386 42.8884 36.1416 45.0648C35.8446 47.2412 35.6962 48.9156 35.6962 50.0826C35.6962 51.1871 35.8116 51.8058 36.0426 51.9333C36.2736 52.0636 36.7163 51.7732 37.3762 51.0568C38.2973 49.822 39.235 47.9061 40.1891 45.3063C41.1432 42.7093 42.0149 39.9792 42.8068 37.1189L42.7985 37.1216Z"
                fill="#C0DD2C"
              />
              <path
                d="M64.6195 61C62.8432 61 61.2457 60.5278 59.8296 59.5861C58.4135 58.6445 57.6409 57.0352 57.5089 54.7611C57.4429 53.529 57.5914 52.3241 57.9543 51.1545C58.3145 49.9848 58.826 48.8641 59.4859 47.7921C60.1431 46.7202 60.869 45.7297 61.6581 44.8205C62.4473 43.9114 63.2694 43.1 64.1273 42.3836C64.1273 41.9928 63.8963 41.2954 63.4371 40.2886C62.9752 39.2818 62.45 38.0958 61.8561 36.7308C61.2622 35.3658 60.6875 33.9058 60.1293 32.3454C59.5684 30.785 59.2549 29.2273 59.1917 27.6668C59.0597 26.3669 59.2412 25.1186 59.7361 23.9137C60.2283 22.7115 60.9047 21.6721 61.7599 20.7956C62.615 19.919 63.6351 19.2216 64.8202 18.7006C66.0053 18.1822 67.2537 17.9543 68.5735 18.0194C69.4946 18.0845 70.3993 18.2474 71.2902 18.5079C72.1783 18.7684 72.951 19.1592 73.6109 19.6775C74.268 20.1986 74.763 20.9123 75.093 21.8214C75.4229 22.7332 75.5191 23.835 75.3899 25.1349C75.3239 25.4605 75.06 25.5908 74.6008 25.5257C74.1388 25.4605 73.9408 25.2977 74.0096 25.0372C74.3395 23.6098 74.0261 22.5188 73.0719 21.7725C72.1178 21.0263 70.9822 21.01 69.6651 21.7237C68.7412 22.1796 67.9851 22.8933 67.3939 23.8676C66.8027 24.8418 66.734 26.272 67.1959 28.1553C67.2619 28.481 67.4571 29.1784 67.7899 30.2503C68.1198 31.3223 68.4965 32.4593 68.9255 33.6615C69.3517 34.8637 69.7641 35.9194 70.1601 36.8285C70.556 37.7403 70.8502 38.1284 71.0482 37.9981C71.5074 37.8027 72.2663 37.2681 73.3194 36.3889C74.3725 35.5123 75.4751 34.5869 76.6273 33.6127C77.7794 32.6385 78.849 31.7456 79.8361 30.9315C80.8232 30.1201 81.4804 29.6506 81.8104 29.5176C81.8764 29.5176 82.0083 29.5828 82.2063 29.713C82.4043 29.8433 82.5033 29.941 82.5033 30.0061C82.5033 30.1364 82.1898 30.4946 81.5656 31.078C80.9387 31.6615 80.1166 32.3942 79.0965 33.2708C78.0763 34.1473 76.9242 35.1378 75.6401 36.2423C74.356 37.3468 73.0225 38.4839 71.6421 39.6535C72.5633 41.6671 73.2232 43.4067 73.6164 44.8667C74.0096 46.3267 74.2736 47.7107 74.4055 49.0079C74.6035 50.6334 74.4715 52.1748 74.0096 53.6376C73.5476 55.1003 72.874 56.3676 71.9858 57.4395C71.0977 58.5115 70.0253 59.3717 68.777 60.0231C67.5259 60.6716 66.1428 60.9973 64.6305 60.9973L64.6195 61ZM62.5463 46.7717C61.4931 47.9414 60.6352 49.3227 59.9781 50.9129C59.3182 52.5059 59.0542 53.8547 59.1889 54.9565C59.3209 56.449 59.7966 57.407 60.6215 57.8303C61.4436 58.251 62.4473 57.9443 63.6324 56.9049C64.5535 55.9931 65.1447 54.8913 65.4087 53.5914C65.6699 52.2915 65.8046 50.8967 65.8046 49.4014C65.8046 47.9061 65.6396 46.8179 65.3124 46.1367C64.9825 45.4556 64.7185 45.1136 64.5233 45.1136C64.4573 45.1136 64.2263 45.2765 63.8331 45.6021C63.4371 45.9278 63.0082 46.3185 62.549 46.7717H62.5463Z"
                fill="#C0DD2C"
              />
              <path
                d="M97.5442 55.5643C107.93 55.5643 116.349 47.255 116.349 37.0049C116.349 26.7548 107.93 18.4454 97.5442 18.4454C87.1585 18.4454 78.7393 26.7548 78.7393 37.0049C78.7393 47.255 87.1585 55.5643 97.5442 55.5643Z"
                fill="white"
              />
              <path
                d="M95.7238 38.1746C95.7623 32.728 100.373 28.1798 106.027 28.3073C111.614 28.4349 116.118 32.7714 115.986 38.5301C115.854 44.3022 111.202 48.3322 105.746 48.3213C100.151 48.3105 95.6303 43.6726 95.7211 38.1746H95.7238ZM107.506 31.8298C106.167 31.8271 105.262 32.7742 105.21 34.2315C105.169 35.3794 106.398 36.549 107.649 36.5572C108.853 36.5626 110.212 35.2573 110.22 34.0768C110.231 32.8827 108.963 31.8325 107.506 31.8298ZM110.94 39.8598C110.962 38.8666 110.217 38.0416 109.288 38.028C108.358 38.0144 107.556 38.8231 107.545 39.7811C107.531 40.7336 108.339 41.5342 109.293 41.5206C110.193 41.5071 110.921 40.7716 110.94 39.8598Z"
                fill="#142440"
              />
              <path
                d="M138.195 56.2807C148.581 56.2807 157 47.9714 157 37.7213C157 27.4712 148.581 19.1619 138.195 19.1619C127.809 19.1619 119.39 27.4712 119.39 37.7213C119.39 47.9714 127.809 56.2807 138.195 56.2807Z"
                fill="white"
              />
              <path
                d="M136.455 38.3862C136.493 32.9397 141.104 28.3914 146.758 28.519C152.345 28.6465 156.849 32.9831 156.717 38.7417C156.585 44.5139 151.933 48.5438 146.477 48.533C140.882 48.5221 136.361 43.8843 136.452 38.3862H136.455ZM148.237 32.0387C146.898 32.036 145.993 32.9831 145.941 34.4404C145.9 35.5883 147.129 36.758 148.38 36.7661C149.584 36.7715 150.943 35.4662 150.951 34.2857C150.962 33.0917 149.694 32.0414 148.237 32.0387ZM151.674 40.0688C151.696 39.0755 150.951 38.2505 150.022 38.237C149.092 38.2234 148.289 39.0321 148.278 39.9901C148.265 40.9426 149.073 41.7432 150.027 41.7296C150.926 41.716 151.655 40.9806 151.674 40.0688Z"
                fill="#13253E"
              />
            </g>
            <defs>
              <clipPath id="clip0_2733_1708">
                <rect
                  width="157"
                  height="61"
                  fill="white"
                />
              </clipPath>
            </defs>
          </svg>
        </a>

        {/* Desktop menu */}
        <div className="hidden items-center gap-3 md:flex">
          {navItems.map((item) => (
            <a
              key={item.href}
              href={item.href}
              className={basePill}>
              {item.label}
            </a>
          ))}

          {/* Instagram icon button */}
          <a
            href="#instagram"
            aria-label="Instagram"
            className=" transition-transform duration-200 hover:-translate-y-0.5 hover:scale-110 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80"
            title="Instagram">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="48"
              height="48"
              viewBox="0 0 48 48"
              className="h-12 w-12"
              fill="none">
              <g clip-path="url(#clip0_2732_1640)">
                <circle
                  cx="26"
                  cy="23"
                  r="17"
                  fill="black"
                />
                <path
                  d="M33.745 16.6275C33.5368 16.0881 33.2178 15.5983 32.8088 15.1897C32.3997 14.7811 31.9096 14.4627 31.37 14.255C30.627 13.9798 29.8423 13.8344 29.05 13.825C27.7325 13.765 27.3375 13.75 24 13.75C20.6625 13.75 20.2675 13.765 18.95 13.825C18.1569 13.8341 17.3713 13.9795 16.6275 14.255C16.0881 14.4633 15.5984 14.7822 15.1897 15.1912C14.7811 15.6003 14.4627 16.0904 14.255 16.63C13.9798 17.373 13.8344 18.1577 13.825 18.95C13.765 20.2675 13.75 20.6625 13.75 24C13.75 27.3375 13.765 27.7325 13.825 29.05C13.8341 29.8431 13.9795 30.6287 14.255 31.3725C14.4633 31.9119 14.7822 32.4017 15.1912 32.8103C15.6003 33.2189 16.0904 33.5373 16.63 33.745C17.373 34.0202 18.1578 34.1656 18.95 34.175C20.2675 34.235 20.6625 34.2475 24 34.2475C27.3375 34.2475 27.7325 34.235 29.05 34.1725C29.843 34.1642 30.6286 34.0196 31.3725 33.745C31.9119 33.5367 32.4017 33.2178 32.8103 32.8088C33.2189 32.3997 33.5373 31.9096 33.745 31.37C34.0202 30.627 34.1656 29.8423 34.175 29.05C34.235 27.7325 34.2475 27.3375 34.2475 24C34.2475 20.6625 34.235 20.2675 34.1725 18.95C34.1642 18.157 34.0196 17.3714 33.745 16.6275ZM24 30.42C22.7303 30.42 21.489 30.0435 20.4333 29.338C19.3775 28.6326 18.5546 27.6299 18.0687 26.4568C17.5828 25.2837 17.4557 23.9929 17.7034 22.7475C17.9511 21.5022 18.5625 20.3582 19.4604 19.4604C20.3582 18.5625 21.5022 17.9511 22.7475 17.7034C23.9929 17.4556 25.2837 17.5828 26.4568 18.0687C27.6299 18.5546 28.6326 19.3775 29.338 20.4332C30.0435 21.489 30.42 22.7302 30.42 24C30.42 25.7027 29.7436 27.3356 28.5396 28.5396C27.3357 29.7436 25.7027 30.42 24 30.42ZM30.6725 18.8275C30.3758 18.8275 30.0858 18.7395 29.8392 18.5747C29.5925 18.4099 29.4002 18.1756 29.2867 17.9015C29.1732 17.6274 29.1435 17.3258 29.2013 17.0349C29.2592 16.7439 29.4021 16.4766 29.6119 16.2668C29.8216 16.0571 30.0889 15.9142 30.3799 15.8563C30.6708 15.7984 30.9724 15.8281 31.2465 15.9417C31.5206 16.0552 31.7549 16.2475 31.9197 16.4941C32.0845 16.7408 32.1725 17.0308 32.1725 17.3275C32.1725 17.7253 32.0145 18.1069 31.7332 18.3882C31.4519 18.6695 31.0703 18.8275 30.6725 18.8275ZM28.1675 24C28.1675 24.8243 27.9231 25.63 27.4652 26.3153C27.0072 27.0007 26.3564 27.5348 25.5948 27.8503C24.8333 28.1657 23.9954 28.2482 23.187 28.0874C22.3786 27.9266 21.636 27.5297 21.0531 26.9469C20.4703 26.364 20.0734 25.6215 19.9126 24.813C19.7518 24.0046 19.8343 23.1667 20.1497 22.4052C20.4652 21.6437 20.9993 20.9928 21.6847 20.5349C22.37 20.0769 23.1758 19.8325 24 19.8325C25.1053 19.8325 26.1653 20.2716 26.9469 21.0531C27.7284 21.8347 28.1675 22.8947 28.1675 24ZM24 0C19.2533 0 14.6131 1.40758 10.6663 4.04473C6.71955 6.68188 3.64341 10.4302 1.8269 14.8156C0.0103988 19.201 -0.464881 24.0266 0.461164 28.6822C1.38721 33.3377 3.67299 37.6141 7.02945 40.9706C10.3859 44.327 14.6623 46.6128 19.3178 47.5388C23.9734 48.4649 28.799 47.9896 33.1844 46.1731C37.5698 44.3566 41.3181 41.2805 43.9553 37.3337C46.5924 33.3869 48 28.7468 48 24C48 17.6348 45.4714 11.5303 40.9706 7.02944C36.4697 2.52856 30.3652 0 24 0ZM36.425 29.1525C36.4038 30.1898 36.2069 31.216 35.8425 32.1875C35.5215 33.0177 35.0305 33.7717 34.4011 34.4011C33.7717 35.0305 33.0177 35.5214 32.1875 35.8425C31.2168 36.2066 30.1915 36.4036 29.155 36.425C27.82 36.485 27.395 36.5 24 36.5C20.605 36.5 20.18 36.485 18.845 36.425C17.8085 36.4036 16.7832 36.2066 15.8125 35.8425C14.9823 35.5214 14.2284 35.0305 13.5989 34.4011C12.9695 33.7717 12.4786 33.0177 12.1575 32.1875C11.7934 31.2168 11.5965 30.1915 11.575 29.155C11.515 27.82 11.5 27.395 11.5 24C11.5 20.605 11.515 20.18 11.575 18.845C11.5957 17.8087 11.7918 16.7833 12.155 15.8125C12.4761 14.9816 12.9673 14.227 13.5971 13.5971C14.227 12.9673 14.9816 12.476 15.8125 12.155C16.7833 11.7918 17.8087 11.5956 18.845 11.575C20.18 11.515 20.605 11.5 24 11.5C27.395 11.5 27.82 11.515 29.155 11.575C30.1914 11.5956 31.2167 11.7918 32.1875 12.155C33.018 12.4763 33.7721 12.9677 34.4015 13.5975C35.0309 14.2274 35.5217 14.9818 35.8425 15.8125C36.2066 16.7832 36.4036 17.8085 36.425 18.845C36.485 20.18 36.5 20.605 36.5 24C36.5 27.395 36.485 27.8175 36.425 29.1525Z"
                  fill="#C0DD2B"
                />
              </g>
              <defs>
                <clipPath id="clip0_2732_1640">
                  <rect
                    width="48"
                    height="48"
                    fill="white"
                  />
                </clipPath>
              </defs>
            </svg>
          </a>
        </div>

        {/* Burger */}
        <button
          type="button"
          aria-label="Toggle menu"
          aria-expanded={open}
          onClick={() => setOpen((v) => !v)}
          className="relative inline-flex h-10 w-10 items-center justify-center md:hidden focus:outline-none">
          <span className="sr-only">Open main menu</span>
          <span
            className={`absolute block h-0.5 w-6 bg-white transition-all duration-300 ${
              open
                ? "translate-y-0 rotate-45"
                : "-translate-y-2"
            }`}
          />
          <span
            className={`absolute block h-0.5 w-6 bg-white transition-all duration-300 ${
              open ? "opacity-0" : "opacity-100"
            }`}
          />
          <span
            className={`absolute block h-0.5 w-6 bg-white transition-all duration-300 ${
              open
                ? "translate-y-0 -rotate-45"
                : "translate-y-2"
            }`}
          />
        </button>
      </nav>
      {/* Mobile panel (animated scale Y) */}
      <div
        className={`md:hidden overflow-hidden transition-[max-height] duration-300 ${
          open ? "max-h-80" : "max-h-0"
        }`}>
        <div className="mx-auto max-w-7xl px-4 pb-4 sm:px-6 lg:px-8">
          <div className="flex flex-col gap-3 pt-2">
            {navItems.map((item) => (
              <a
                key={item.href}
                href={item.href}
                onClick={() => setOpen(false)}
                className="rounded-xl bg-white px-4 py-3 text-base font-semibold text-gray-900 shadow-sm transition-all duration-200 hover:-translate-y-0.5 hover:scale-[1.02] hover:shadow-md focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80">
                {item.label}
              </a>
            ))}
            <a
              href="#instagram"
              onClick={() => setOpen(false)}
              className="inline-flex h-12 w-12 items-center justify-center self-start rounded-full border-2 border-lime-300 bg-lime-400/80 text-blue-900 transition-transform duration-200 hover:-translate-y-0.5 hover:scale-110 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-white/80"
              aria-label="Instagram"
              title="Instagram">
              <svg
                viewBox="0 0 24 24"
                className="h-6 w-6"
                fill="currentColor"
                aria-hidden="true">
                <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm0 2a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V7a3 3 0 0 0-3-3H7zm5 3.5a5.5 5.5 0 1 1 0 11 5.5 5.5 0 0 1 0-11zm0 2a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7zm6-1.75a.75.75 0 1 1 0 1.5.75.75 0 0 1 0-1.5z" />
              </svg>
            </a>
          </div>
        </div>
      </div>
    </header>
  );
}
